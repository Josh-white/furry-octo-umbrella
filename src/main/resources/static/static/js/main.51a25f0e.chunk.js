(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(1),i=t.n(n),r=t(5),c=t.n(r),s=(t(10),t(2)),o=(t(11),t.p+"static/media/battleshipLogo.80ab244e.png"),u=(t(12),t(13),t(0)),p=function(e){var a=e.className,t=e.size,i=e.isVertical,r=[],c=Object(n.useState)(),o=Object(s.a)(c,2),p=o[0],l=o[1];for(var h=function(e){r.push(Object(u.jsx)("div",{className:"".concat(p===e?"hovered":""," ship--").concat(a," "),"aria-label":"".concat(a,"-").concat(e),onMouseEnter:function(){return function(e){l(e)}(e)},onMouseLeave:function(){l(0)}},"".concat(a,"-").concat(e)))},d=1;d<=t;d++)h(d);return Object(u.jsx)("div",{"data-testid":"".concat(a,"--container"),id:"".concat(a),"data-shipsize":t,className:i?"ship--container--vertical":"ship--container--horizontal",draggable:!0,onDragStart:function(e){return function(e){var a=JSON.stringify({shipName:e.currentTarget.id,shipPieceNumber:p,isVertical:i,size:t});return e.dataTransfer.setData("ShipData",a)}(e)},onDrag:function(e){return function(e){e.preventDefault()}(e)},onDragEnd:function(e){return function(e){e.preventDefault()}(e)},children:r})},l=t(3),h=function(){for(var e=[],a=0;a<10;a++)for(var t=0;t<10;t++){var n={x:a,y:t,isOpen:!0};e.push(n)}return e},d=[{shipName:"carrier",size:5},{shipName:"battleship",size:4},{shipName:"cruiser",size:3},{shipName:"submarine",size:3},{shipName:"destroyer",size:2}],j=Object(n.createContext)({}),b=function(e){var a=e.children,t=function(){var e=Object(n.useState)(h()),a=Object(s.a)(e,2),t=a[0],i=a[1],r=Object(n.useState)(h()),c=Object(s.a)(r,2),o=c[0],u=c[1];return{playerBoard:t,enemyBoard:o,playerPlacedShip:function(e){i((function(a){return a.map((function(a){var t=e.find((function(e){return a.x===e.x&&a.y===e.y&&a.isOpen}));return t?Object(l.a)(Object(l.a)({},a),{},{isOpen:t.isOpen,shipName:t.shipName}):Object(l.a)({},a)}))}))},enemyPlacedShip:function(e){u((function(a){return a.map((function(a){return a.x===e.x&&a.y===e.y?Object(l.a)(Object(l.a)({},a),{},{isOpen:!1,shipName:e.shipName}):Object(l.a)({},a)}))}))},resetPlayerBoard:function(){i(h())},isValidShipPlacement:function(e){var a=!1,n=0;return t.forEach((function(a){e.find((function(e){return a.x===e.x&&a.y===e.y&&a.isOpen}))&&n++})),n===e.length&&(a=!0),a}}}(),i=function(){var e=Object(n.useState)(d),a=Object(s.a)(e,2),t=a[0],i=a[1];return{port:t,removeShip:function(e){var a=t.filter((function(a){return a.shipName!==e}));i(a)},resetPort:function(){i(d)}}}();return Object(u.jsx)(j.Provider,{value:{board:t,port:i},children:a})},m=function(){var e=i.a.useContext(j);return Object(l.a)(Object(l.a)({},e.board),e.port)},O=function(){var e=m(),a=e.port,t=e.resetPort,i=e.resetPlayerBoard,r=Object(n.useState)(!0),c=Object(s.a)(r,2),o=c[0],l=c[1];return Object(u.jsxs)("div",{className:"port--container",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Safe Harbor"}),Object(u.jsx)("button",{onClick:function(){l(!o)},children:"Rotate"}),Object(u.jsx)("button",{onClick:function(){return t(),void i()},children:"Reset Ships"})]}),Object(u.jsx)("div",{className:"port",children:a.map((function(e){return Object(u.jsx)(p,{className:e.shipName,size:e.size,isVertical:o},"".concat(e.shipName,"-").concat(e.size))}))})]})},f=function(e){var a=e.className,t=e.x,i=e.y,r=e.isOpen,c=e.shipName,o=m(),p=o.removeShip,l=o.playerPlacedShip,h=o.isValidShipPlacement,d=Object(n.useState)(!0),j=Object(s.a)(d,2),b=(j[0],j[1]),O="grid";return a&&(O="".concat(O," ").concat(a)),r&&(O="".concat(O," grid--open")),!r&&c&&(O="".concat(O," ").concat(c)),"playerBoard--grid"===a?Object(u.jsx)("div",{className:O,"data-x":t,"data-y":i,"aria-label":"".concat(a," ").concat(t,",").concat(i),onDrop:function(e){return function(e){e.preventDefault();var a=JSON.parse(e.dataTransfer.getData("ShipData")),n=function(e){var a=[];if(e.isVertical){for(var t=e.xPosition-1,n=1;n<e.pieceNumber;n++){var i={x:t,y:e.yPosition,isOpen:!1,shipName:e.shipName};a.push(i),t--}a.push({x:e.xPosition,y:e.yPosition,isOpen:!1,shipName:e.shipName});for(var r=e.xPosition+1,c=e.size;c>e.pieceNumber;c--){var s={x:r,y:e.yPosition,isOpen:!1,shipName:e.shipName};a.push(s),r++}}if(!e.isVertical){for(var o=e.yPosition-1,u=1;u<e.pieceNumber;u++){var p={x:e.xPosition,y:o,isOpen:!1,shipName:e.shipName};a.push(p),o--}a.push({x:e.xPosition,y:e.yPosition,isOpen:!1,shipName:e.shipName});for(var l=e.yPosition+1,h=e.size;h>e.pieceNumber;h--){var d={x:e.xPosition,y:l,isOpen:!1,shipName:e.shipName};a.push(d),l++}}return a}({xPosition:t,yPosition:i,pieceNumber:a.shipPieceNumber,size:a.size,shipName:a.shipName,isVertical:a.isVertical});h(n)&&(p(a.shipName),l(n))}(e)},onDragOver:function(e){return function(e){e.preventDefault()}(e)},onDragEnter:function(e){},onDragLeave:function(e){b(!1)}}):Object(u.jsx)("div",{className:O,"data-x":t,"data-y":i,"aria-label":"".concat(a," ").concat(t,",").concat(i)})},x=function(){var e=m().enemyBoard;return Object(u.jsxs)("div",{className:"enemyBoard",children:[Object(u.jsx)("h1",{children:"Enemy Board"}),Object(u.jsxs)("div",{className:"playerBoard--axis-container",children:[Object(u.jsx)("div",{className:"playerBoard--axis-x",children:function(){for(var e=[],a=1;a<11;a++)e.push(Object(u.jsx)("h3",{children:a}));return e}()}),Object(u.jsxs)("div",{className:"enemyBoard--container",children:[e.map((function(e){return Object(u.jsx)(f,{className:"enemyBoard--grid",isOpen:e.isOpen,x:e.x,y:e.y},"enemyBoard-".concat(e.x,"-").concat(e.y))})),Object(u.jsx)("div",{className:"playerBoard--axis-y",children:function(){for(var e=[],a=65;a<75;a++)e.push(Object(u.jsx)("h3",{children:String.fromCharCode(a)}));return e}()})]})]})]})},v=function(){var e=m().playerBoard;return Object(u.jsxs)("div",{className:"playerBoard",children:[Object(u.jsx)("h1",{children:"Player Board"}),Object(u.jsxs)("div",{className:"playerBoard--axis-container",children:[Object(u.jsx)("div",{className:"playerBoard--axis-x",children:function(){for(var e=[],a=1;a<11;a++)e.push(Object(u.jsx)("h3",{children:a}));return e}()}),Object(u.jsxs)("div",{className:"playerBoard--container",children:[e.map((function(e){return Object(u.jsx)(f,{className:"playerBoard--grid",isOpen:e.isOpen,x:e.x,y:e.y,shipName:e.shipName},"playerBoard-".concat(e.x,"-").concat(e.y))})),Object(u.jsx)("div",{className:"playerBoard--axis-y",children:function(){for(var e=[],a=65;a<75;a++)e.push(Object(u.jsx)("h3",{children:String.fromCharCode(a)}));return e}()})]})]})]})},N=function(){return Object(u.jsxs)(b,{children:[Object(u.jsxs)("div",{className:"game--container",children:[Object(u.jsx)(v,{}),Object(u.jsx)(x,{})]}),Object(u.jsx)(O,{})]})},y=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],i=a[1];return t?Object(u.jsx)(N,{}):Object(u.jsxs)("div",{className:"splashscreen",children:[Object(u.jsx)("img",{src:o,alt:"battleship logo",className:"logo"}),Object(u.jsx)("div",{className:"button_container",children:Object(u.jsx)("button",{"aria-label":"One Player",onClick:function(){i(!0)},children:"One Player"})})]})};var P=function(){return Object(u.jsx)(y,{})};c.a.render(Object(u.jsx)(P,{}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.51a25f0e.chunk.js.map